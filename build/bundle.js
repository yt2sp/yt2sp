var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function f(){return d("")}function g(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function y(t,e){t.value=null==e?"":e}function v(t,e,n,l){t.style.setProperty(e,n,l?"important":"")}function b(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}}function k(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let w;function _(t){w=t}function x(){if(!w)throw new Error("Function called outside component initialization");return w}const $=[],S=[],C=[],q=[],T=Promise.resolve();let j=!1;function E(t){C.push(t)}let N=!1;const I=new Set;function P(){if(!N){N=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];_(e),A(e.$$)}for($.length=0;S.length;)S.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];I.has(e)||(I.add(e),e())}C.length=0}while($.length);for(;q.length;)q.pop()();j=!1,N=!1,I.clear()}}function A(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const D=new Set;let L;function Y(t,e){t&&t.i&&(D.delete(t),t.i(e))}function z(t,e){const n=e.token={};function o(t,o,c,i){if(e.token!==n)return;e.resolved=i;let s=e.ctx;void 0!==c&&(s=s.slice(),s[c]=i);const r=t&&(e.current=t)(s);let a=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==o&&t&&(L={r:0,c:[],p:L},function(t,e,n,l){if(t&&t.o){if(D.has(t))return;D.add(t),L.c.push(()=>{D.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}}(t,1,1,()=>{e.blocks[n]=null}),L.r||l(L.c),L=L.p)}):e.block.d(1),r.c(),Y(r,1),r.m(e.mount(),e.anchor),a=!0),e.block=r,e.blocks&&(e.blocks[o]=r),a&&P()}if((c=t)&&"object"==typeof c&&"function"==typeof c.then){const n=x();if(t.then(t=>{_(n),o(e.then,1,e.value,t),_(null)},t=>{_(n),o(e.catch,2,e.error,t),_(null)}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var c}function O(t,e){-1===t.$$.dirty[0]&&($.push(t),j||(j=!0,T.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(c,i,s,a,u,d,p=[-1]){const f=w;_(c);const g=i.props||{},h=c.$$={fragment:null,ctx:null,props:d,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:p,skip_bound:!1};let m=!1;if(h.ctx=s?s(c,g,(t,e,...n)=>{const l=n.length?n[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=l)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](l),m&&O(c,t)),e}):[],h.update(),m=!0,l(h.before_update),h.fragment=!!a&&a(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(r)}else h.fragment&&h.fragment.c();i.intro&&Y(c.$$.fragment),function(t,n,c){const{fragment:i,on_mount:s,on_destroy:r,after_update:a}=t.$$;i&&i.m(n,c),E(()=>{const n=s.map(e).filter(o);r?r.push(...n):l(n),t.$$.on_mount=[]}),a.forEach(E)}(c,i.target,i.anchor),P()}_(f)}function H(t,e,n){const l=t.slice();return l[52]=e[n],l}function M(t,e,n){const l=t.slice();return l[54]=e[n],l}function B(t,e,n){const l=t.slice();return l[49]=e[n],l[50]=e,l[51]=n,l}function G(t,e,n){const l=t.slice();return l[44]=e[n],l}function F(t,e,n){const l=t.slice();return l[44]=e[n],l}function J(t){let e,n,l,o,c,i,g,h,y=t[6].length+"",v=t[6],b=[];for(let e=0;e<v.length;e+=1)b[e]=U(H(t,v,e));let k={ctx:t,current:null,token:null,pending:X,then:W,catch:V,value:52};return z(h=t[7],k),{c(){e=u("h2"),e.textContent="Completing sync",n=d("\n    Syncing "),l=d(y),o=d(" items:\n    "),c=u("ol");for(let t=0;t<b.length;t+=1)b[t].c();i=p(),g=f(),k.block.c()},m(t,r){s(t,e,r),s(t,n,r),s(t,l,r),s(t,o,r),s(t,c,r);for(let t=0;t<b.length;t+=1)b[t].m(c,null);s(t,i,r),s(t,g,r),k.block.m(t,k.anchor=r),k.mount=()=>g.parentNode,k.anchor=g},p(e,n){if(t=e,64&n[0]&&y!==(y=t[6].length+"")&&m(l,y),64&n[0]){let e;for(v=t[6],e=0;e<v.length;e+=1){const l=H(t,v,e);b[e]?b[e].p(l,n):(b[e]=U(l),b[e].c(),b[e].m(c,null))}for(;e<b.length;e+=1)b[e].d(1);b.length=v.length}if(k.ctx=t,128&n[0]&&h!==(h=t[7])&&z(h,k));else{const e=t.slice();e[52]=k.resolved,k.block.p(e,n)}},d(t){t&&r(e),t&&r(n),t&&r(l),t&&r(o),t&&r(c),a(b,t),t&&r(i),t&&r(g),k.block.d(t),k.token=null,k=null}}}function K(t){let e,n,o,c,f,y,b,k,w,_,x,$,S,C,q,T,j,E,N,I,P,A,D,L,Y,z,O,R=t[5],H=[];for(let e=0;e<R.length;e+=1)H[e]=at(B(t,R,e));return{c(){e=u("h2"),e.textContent="Review sync actions",n=p(),o=u("button"),c=d("Sync "),f=d(t[11]),y=d(" items"),k=d("\n    Â \n    "),w=u("button"),w.textContent="Cancel sync",_=p(),x=u("table"),$=u("tr"),S=u("th"),S.textContent="Source video",C=p(),q=u("th"),q.textContent="Search term",T=p(),j=u("th"),E=p(),N=u("th"),N.textContent="Potential targets",I=p(),P=u("th"),P.textContent="Selected target",A=p(),D=u("th"),L=u("input"),Y=p();for(let t=0;t<H.length;t+=1)H[t].c();o.disabled=b=0===t[11],h(S,"width","33%"),h(S,"class","svelte-16gudsg"),h(q,"width","33%"),h(q,"class","svelte-16gudsg"),h(j,"width","40px"),h(j,"class","svelte-16gudsg"),h(N,"width","305px"),h(N,"class","svelte-16gudsg"),h(P,"width","33%"),h(P,"class","svelte-16gudsg"),h(L,"type","checkbox"),h(L,"title","Select all"),h(L,"class","svelte-16gudsg"),h(D,"width","30px"),h(D,"class","svelte-16gudsg"),h($,"class","svelte-16gudsg"),h(x,"class","sync svelte-16gudsg"),v(x,"width","100%"),v(x,"table-layout","fixed")},m(l,r){s(l,e,r),s(l,n,r),s(l,o,r),i(o,c),i(o,f),i(o,y),s(l,k,r),s(l,w,r),s(l,_,r),s(l,x,r),i(x,$),i($,S),i($,C),i($,q),i($,T),i($,j),i($,E),i($,N),i($,I),i($,P),i($,A),i($,D),i(D,L),L.checked=t[8],i(x,Y);for(let t=0;t<H.length;t+=1)H[t].m(x,null);z||(O=[g(o,"click",t[19]),g(w,"click",t[22]),g(L,"change",t[23]),g(L,"click",t[24])],z=!0)},p(t,e){if(2048&e[0]&&m(f,t[11]),2048&e[0]&&b!==(b=0===t[11])&&(o.disabled=b),256&e[0]&&(L.checked=t[8]),196640&e[0]){let n;for(R=t[5],n=0;n<R.length;n+=1){const l=B(t,R,n);H[n]?H[n].p(l,e):(H[n]=at(l),H[n].c(),H[n].m(x,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=R.length}},d(t){t&&r(e),t&&r(n),t&&r(o),t&&r(k),t&&r(w),t&&r(_),t&&r(x),a(H,t),z=!1,l(O)}}}function Q(t){let e,n,o,c,a,f,m,y,v,b,k,w,_,x,$,S,C,q,T,j,E,N,I,P,A,D,L,Y,O,R,H,M,B,G,F,J,K,Q,U,V,W,X,Z;function tt(t,e){return t[1]?dt:ut}let et=tt(t),nt=et(t),lt=t[0]&&pt(t);function ot(t,e){return t[0]?gt:ft}let ct=ot(t),it=ct(t),st=t[2]&&ht(t),rt={ctx:t,current:null,token:null,pending:$t,then:kt,catch:bt,value:12};return z(F=t[12],rt),{c(){e=u("h1"),e.textContent="YouTube To Spotify",n=p(),o=u("p"),o.innerHTML='<a href="https://github.com/yt2sp/yt2sp">Github page</a>',c=p(),a=u("p"),a.textContent="This tool synchronizes your YouTube playlists to Spotify playlists,\n      intelligently searching for artist & title based on the YouTube video's\n      name, skipping duplicates and offering the possibility for manual\n      overrides.",f=p(),m=u("p"),m.textContent="This can be useful if you use YouTube for music discovery, add the music\n      videos you like to a playlist and want to ensure that your discovered\n      items are added to Spotify as well which you use for regular music\n      listening.",y=p(),v=u("p"),v.textContent="In order to work, it requires access to your YouTube and Spotify accounts,\n      but it runs entirely in your browser and communicates only with YouTube\n      and Spotify servers and does not store any data at all.",b=p(),k=u("h2"),k.textContent="Step 1: Connect accounts:",w=p(),_=u("b"),_.textContent="Google:",x=p(),$=u("p"),nt.c(),S=p(),C=u("p"),q=u("b"),q.textContent="Spotify:",T=p(),lt&&lt.c(),j=p(),E=u("button"),it.c(),N=p(),I=u("h2"),I.textContent="Step 2: Select source and target playlists:",P=p(),A=u("table"),D=u("tr"),L=u("td"),L.innerHTML="<b>Source YouTube playlist:</b>",Y=p(),O=u("td"),st&&st.c(),R=p(),H=u("tr"),M=u("td"),M.innerHTML="<b>Target Spotify playlist:</b>",B=p(),G=u("td"),rt.block.c(),J=p(),K=u("h2"),K.textContent="Step 3: Sync!",Q=p(),U=u("button"),V=d("Search for items to be synchronized"),h(L,"class","svelte-16gudsg"),h(O,"class","svelte-16gudsg"),h(D,"class","svelte-16gudsg"),h(M,"class","svelte-16gudsg"),h(G,"class","svelte-16gudsg"),h(H,"class","svelte-16gudsg"),h(A,"class","svelte-16gudsg"),U.disabled=W=!t[10]},m(l,r){s(l,e,r),s(l,n,r),s(l,o,r),s(l,c,r),s(l,a,r),s(l,f,r),s(l,m,r),s(l,y,r),s(l,v,r),s(l,b,r),s(l,k,r),s(l,w,r),s(l,_,r),s(l,x,r),s(l,$,r),nt.m($,null),s(l,S,r),s(l,C,r),i(C,q),i(C,T),lt&&lt.m(C,null),i(C,j),i(C,E),it.m(E,null),s(l,N,r),s(l,I,r),s(l,P,r),s(l,A,r),i(A,D),i(D,L),i(D,Y),i(D,O),st&&st.m(O,null),i(A,R),i(A,H),i(H,M),i(H,B),i(H,G),rt.block.m(G,rt.anchor=null),rt.mount=()=>G,rt.anchor=null,s(l,J,r),s(l,K,r),s(l,Q,r),s(l,U,r),i(U,V),X||(Z=[g(E,"click",t[13]),g(U,"click",t[18])],X=!0)},p(e,n){if(et!==(et=tt(t=e))&&(nt.d(1),nt=et(t),nt&&(nt.c(),nt.m($,null))),t[0]?lt?lt.p(t,n):(lt=pt(t),lt.c(),lt.m(C,j)):lt&&(lt.d(1),lt=null),ct!==(ct=ot(t))&&(it.d(1),it=ct(t),it&&(it.c(),it.m(E,null))),t[2]?st?st.p(t,n):(st=ht(t),st.c(),st.m(O,null)):st&&(st.d(1),st=null),rt.ctx=t,4096&n[0]&&F!==(F=t[12])&&z(F,rt));else{const e=t.slice();e[12]=rt.resolved,rt.block.p(e,n)}1024&n[0]&&W!==(W=!t[10])&&(U.disabled=W)},d(t){t&&r(e),t&&r(n),t&&r(o),t&&r(c),t&&r(a),t&&r(f),t&&r(m),t&&r(y),t&&r(v),t&&r(b),t&&r(k),t&&r(w),t&&r(_),t&&r(x),t&&r($),nt.d(),t&&r(S),t&&r(C),lt&&lt.d(),it.d(),t&&r(N),t&&r(I),t&&r(P),t&&r(A),st&&st.d(),rt.block.d(),rt.token=null,rt=null,t&&r(J),t&&r(K),t&&r(Q),t&&r(U),X=!1,l(Z)}}}function U(t){let e,n,l,o,c=t[52].source.snippet.title+"",a=jt(t[52].target)+"";return{c(){e=u("li"),n=d(c),l=d(" â†’ "),o=d(a)},m(t,c){s(t,e,c),i(e,n),i(e,l),i(e,o)},p(t,e){64&e[0]&&c!==(c=t[52].source.snippet.title+"")&&m(n,c),64&e[0]&&a!==(a=jt(t[52].target)+"")&&m(o,a)},d(t){t&&r(e)}}}function V(e){return{c:t,m:t,p:t,d:t}}function W(e){let n,l,o;return{c(){n=u("button"),n.textContent="OK"},m(t,c){s(t,n,c),l||(o=g(n,"click",e[30]),l=!0)},p:t,d(t){t&&r(n),l=!1,o()}}}function X(e){let n;return{c(){n=u("button"),n.textContent="...",n.disabled=!0},m(t,e){s(t,n,e)},p:t,d(t){t&&r(n)}}}function Z(e){return{c:t,m:t,p:t,d:t}}function tt(t){let e;function n(t,e){return t[53].length?nt:et}let l=n(t),o=l(t);return{c(){o.c(),e=f()},m(t,n){o.m(t,n),s(t,e,n)},p(t,c){l===(l=n(t))&&o?o.p(t,c):(o.d(1),o=l(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&r(e)}}}function et(e){let n;return{c(){n=d("-")},m(t,e){s(t,n,e)},p:t,d(t){t&&r(n)}}}function nt(t){let e,n,o,c=t[53],i=[];for(let e=0;e<c.length;e+=1)i[e]=lt(M(t,c,e));function d(){t[27].call(e,t[50],t[51])}function p(...e){return t[28](t[49],t[50],t[51],...e)}return{c(){e=u("select");for(let t=0;t<i.length;t+=1)i[t].c();h(e,"class","svelte-16gudsg"),void 0===t[49].target&&E(d)},m(l,c){s(l,e,c);for(let t=0;t<i.length;t+=1)i[t].m(e,null);b(e,t[49].target),n||(o=[g(e,"change",d),g(e,"change",p)],n=!0)},p(n,l){if(t=n,32&l[0]){let n;for(c=t[53],n=0;n<c.length;n+=1){const o=M(t,c,n);i[n]?i[n].p(o,l):(i[n]=lt(o),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}32&l[0]&&b(e,t[49].target)},d(t){t&&r(e),a(i,t),n=!1,l(o)}}}function lt(t){let e,n,l,o,c=jt(t[54])+"";return{c(){e=u("option"),n=d(c),l=p(),e.__value=o=t[54],e.value=e.__value},m(t,o){s(t,e,o),i(e,n),i(e,l)},p(t,l){32&l[0]&&c!==(c=jt(t[54])+"")&&m(n,c),32&l[0]&&o!==(o=t[54])&&(e.__value=o,e.value=e.__value)},d(t){t&&r(e)}}}function ot(e){let n;return{c(){n=d("...")},m(t,e){s(t,n,e)},p:t,d(t){t&&r(n)}}}function ct(e){return{c:t,m:t,p:t,d:t}}function it(t){let e,n=t[52]&&st(t);return{c(){n&&n.c(),e=f()},m(t,l){n&&n.m(t,l),s(t,e,l)},p(t,l){t[52]?n?n.p(t,l):(n=st(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&r(e)}}}function st(t){let e,n,l,o,c=jt(t[52])+"";return{c(){e=u("a"),n=d(c),h(e,"href",l=t[52].external_urls.spotify),h(e,"title",o=jt(t[52]))},m(t,l){s(t,e,l),i(e,n)},p(t,i){32&i[0]&&c!==(c=jt(t[52])+"")&&m(n,c),32&i[0]&&l!==(l=t[52].external_urls.spotify)&&h(e,"href",l),32&i[0]&&o!==(o=jt(t[52]))&&h(e,"title",o)},d(t){t&&r(e)}}}function rt(e){let n;return{c(){n=d("...")},m(t,e){s(t,n,e)},p:t,d(t){t&&r(n)}}}function at(t){let e,n,o,c,a,f,b,k,w,_,x,$,S,C,q,T,j,E,N,I,P,A,D,L,Y,O=t[49].source.snippet.title+"";function R(){t[25].call(w,t[50],t[51])}function H(...e){return t[26](t[49],t[50],t[51],...e)}let M={ctx:t,current:null,token:null,pending:ot,then:tt,catch:Z,value:53};z(q=t[49].candidates,M);let B={ctx:t,current:null,token:null,pending:rt,then:it,catch:ct,value:52};function G(){t[29].call(P,t[50],t[51])}return z(E=t[49].target,B),{c(){e=u("tr"),n=u("td"),o=u("a"),c=d(O),b=p(),k=u("td"),w=u("input"),_=p(),x=u("td"),$=u("button"),$.textContent="ðŸ”Ž",S=p(),C=u("td"),M.block.c(),T=p(),j=u("td"),B.block.c(),N=p(),I=u("td"),P=u("input"),D=p(),h(o,"href",a="https://www.youtube.com/watch?v="+t[49].source.contentDetails.videoId),h(o,"title",f=t[49].source.snippet.title),h(n,"class","svelte-16gudsg"),h(w,"type","text"),v(w,"width","100%"),h(w,"class","svelte-16gudsg"),h(k,"class","svelte-16gudsg"),h(x,"class","svelte-16gudsg"),h(C,"class","svelte-16gudsg"),h(j,"class","svelte-16gudsg"),h(P,"type","checkbox"),P.disabled=A=t[17](t[49].target),h(P,"class","svelte-16gudsg"),v(I,"text-align","center"),h(I,"class","svelte-16gudsg"),h(e,"class","svelte-16gudsg")},m(l,r){s(l,e,r),i(e,n),i(n,o),i(o,c),i(e,b),i(e,k),i(k,w),y(w,t[49].query),i(e,_),i(e,x),i(x,$),i(e,S),i(e,C),M.block.m(C,M.anchor=null),M.mount=()=>C,M.anchor=null,i(e,T),i(e,j),B.block.m(j,B.anchor=null),B.mount=()=>j,B.anchor=null,i(e,N),i(e,I),i(I,P),P.checked=t[49].selected,i(e,D),L||(Y=[g(w,"input",R),g($,"click",H),g(P,"change",G)],L=!0)},p(e,n){if(t=e,32&n[0]&&O!==(O=t[49].source.snippet.title+"")&&m(c,O),32&n[0]&&a!==(a="https://www.youtube.com/watch?v="+t[49].source.contentDetails.videoId)&&h(o,"href",a),32&n[0]&&f!==(f=t[49].source.snippet.title)&&h(o,"title",f),32&n[0]&&w.value!==t[49].query&&y(w,t[49].query),M.ctx=t,32&n[0]&&q!==(q=t[49].candidates)&&z(q,M));else{const e=t.slice();e[53]=M.resolved,M.block.p(e,n)}if(B.ctx=t,32&n[0]&&E!==(E=t[49].target)&&z(E,B));else{const e=t.slice();e[52]=B.resolved,B.block.p(e,n)}32&n[0]&&A!==(A=t[17](t[49].target))&&(P.disabled=A),32&n[0]&&(P.checked=t[49].selected)},d(t){t&&r(e),M.block.d(),M.token=null,M=null,B.block.d(),B.token=null,B=null,L=!1,l(Y)}}}function ut(t){let e,n,l;return{c(){e=u("div"),n=p(),l=u("div"),h(e,"id","g_id_onload"),h(e,"data-client_id","985321036628-tlp6avu4gnudpr6dpms504lstmoj9uqm.apps.googleusercontent.com"),h(e,"data-context","signin"),h(e,"data-ux_mode","popup"),h(e,"data-callback","handleCredentialResponse"),h(e,"data-auto_prompt","false"),h(l,"class","g_id_signin"),h(l,"data-type","standard"),h(l,"data-shape","rectangular"),h(l,"data-theme","outline"),h(l,"data-text","signin_with"),h(l,"data-size","large"),h(l,"data-logo_alignment","left")},m(t,o){s(t,e,o),s(t,n,o),s(t,l,o)},d(t){t&&r(e),t&&r(n),t&&r(l)}}}function dt(t){let e;return{c(){e=d("Signed in - reload to sign in again")},m(t,n){s(t,e,n)},d(t){t&&r(e)}}}function pt(t){let e,n,l=t[0].display_name+"";return{c(){e=d("Signed in as "),n=d(l)},m(t,l){s(t,e,l),s(t,n,l)},p(t,e){1&e[0]&&l!==(l=t[0].display_name+"")&&m(n,l)},d(t){t&&r(e),t&&r(n)}}}function ft(t){let e;return{c(){e=d("Sign in")},m(t,n){s(t,e,n)},d(t){t&&r(e)}}}function gt(t){let e;return{c(){e=d("Sign out")},m(t,n){s(t,e,n)},d(t){t&&r(e)}}}function ht(t){let e;function n(t,e){return t[2].length?yt:mt}let l=n(t),o=l(t);return{c(){o.c(),e=f()},m(t,n){o.m(t,n),s(t,e,n)},p(t,c){l===(l=n(t))&&o?o.p(t,c):(o.d(1),o=l(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&r(e)}}}function mt(e){let n;return{c(){n=d("...")},m(t,e){s(t,n,e)},p:t,d(t){t&&r(n)}}}function yt(t){let e,n,l,o=t[2],c=[];for(let e=0;e<o.length;e+=1)c[e]=vt(F(t,o,e));return{c(){e=u("select");for(let t=0;t<c.length;t+=1)c[t].c();h(e,"class","svelte-16gudsg"),void 0===t[3]&&E(()=>t[20].call(e))},m(o,i){s(o,e,i);for(let t=0;t<c.length;t+=1)c[t].m(e,null);b(e,t[3]),n||(l=g(e,"change",t[20]),n=!0)},p(t,n){if(4&n[0]){let l;for(o=t[2],l=0;l<o.length;l+=1){const i=F(t,o,l);c[l]?c[l].p(i,n):(c[l]=vt(i),c[l].c(),c[l].m(e,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=o.length}12&n[0]&&b(e,t[3])},d(t){t&&r(e),a(c,t),n=!1,l()}}}function vt(t){let e,n,l,o,c,a,p=t[44].snippet.title+"",f=t[44].contentDetails.itemCount+"";return{c(){e=u("option"),n=d(p),l=d(" ("),o=d(f),c=d("\n                    items)\n                  "),e.__value=a=t[44],e.value=e.__value},m(t,r){s(t,e,r),i(e,n),i(e,l),i(e,o),i(e,c)},p(t,l){4&l[0]&&p!==(p=t[44].snippet.title+"")&&m(n,p),4&l[0]&&f!==(f=t[44].contentDetails.itemCount+"")&&m(o,f),4&l[0]&&a!==(a=t[44])&&(e.__value=a,e.value=e.__value)},d(t){t&&r(e)}}}function bt(e){return{c:t,m:t,p:t,d:t}}function kt(t){let e;function n(t,e){return t[12].length?_t:wt}let l=n(t),o=l(t);return{c(){o.c(),e=f()},m(t,n){o.m(t,n),s(t,e,n)},p(t,c){l===(l=n(t))&&o?o.p(t,c):(o.d(1),o=l(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&r(e)}}}function wt(e){let n;return{c(){n=d("...")},m(t,e){s(t,n,e)},p:t,d(t){t&&r(n)}}}function _t(t){let e,n,l,o=t[12],c=[];for(let e=0;e<o.length;e+=1)c[e]=xt(G(t,o,e));return{c(){e=u("select");for(let t=0;t<c.length;t+=1)c[t].c();h(e,"class","svelte-16gudsg"),void 0===t[4]&&E(()=>t[21].call(e))},m(o,i){s(o,e,i);for(let t=0;t<c.length;t+=1)c[t].m(e,null);b(e,t[4]),n||(l=g(e,"change",t[21]),n=!0)},p(t,n){if(4096&n[0]){let l;for(o=t[12],l=0;l<o.length;l+=1){const i=G(t,o,l);c[l]?c[l].p(i,n):(c[l]=xt(i),c[l].c(),c[l].m(e,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=o.length}4112&n[0]&&b(e,t[4])},d(t){t&&r(e),a(c,t),n=!1,l()}}}function xt(t){let e,n,l,o,c,a,p=t[44].name+"",f=t[44].tracks.total+"";return{c(){e=u("option"),n=d(p),l=d(" ("),o=d(f),c=d(" items)\n                  "),e.__value=a=t[44],e.value=e.__value},m(t,r){s(t,e,r),i(e,n),i(e,l),i(e,o),i(e,c)},p(t,l){4096&l[0]&&p!==(p=t[44].name+"")&&m(n,p),4096&l[0]&&f!==(f=t[44].tracks.total+"")&&m(o,f),4096&l[0]&&a!==(a=t[44])&&(e.__value=a,e.value=e.__value)},d(t){t&&r(e)}}}function $t(e){let n;return{c(){n=d("...")},m(t,e){s(t,n,e)},p:t,d(t){t&&r(n)}}}function St(e){let n,o,c,a,d,f,m,y;function v(t,e){return t[5].length?t[6].length?J:K:Q}let b=v(e),k=b(e);return{c(){n=u("script"),c=u("script"),d=p(),f=u("main"),k.c(),n.async=!0,n.defer=!0,n.src!==(o="https://apis.google.com/js/api.js")&&h(n,"src","https://apis.google.com/js/api.js"),c.async=!0,c.defer=!0,c.src!==(a="https://accounts.google.com/gsi/client")&&h(c,"src","https://accounts.google.com/gsi/client")},m(t,l){i(document.head,n),i(document.head,c),s(t,d,l),s(t,f,l),k.m(f,null),m||(y=[g(n,"load",Tt),g(c,"load",e[14])],m=!0)},p(t,e){b===(b=v(t))&&k?k.p(t,e):(k.d(1),k=b(t),k&&(k.c(),k.m(f,null)))},i:t,o:t,d(t){r(n),r(c),t&&r(d),t&&r(f),k.d(),m=!1,l(y)}}}const Ct="yt2sp";function qt(){gapi.client.init({}).then((function(){gapi.client.load("https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest")}))}function Tt(){gapi.load("client",qt)}function jt(t){return t?t.artists.map(t=>t.name).join(", ")+"-"+t.name+" ("+t.album.name+", "+t.album.release_date+")":"..."}function Et(t,e,n){const l=window.location.href.slice(0,-1);var o,c,i,s,r,a,u,d=[],p=[],f=[],g=[],h=!1,m=localStorage.getItem("spotify_token");window.spotifyCallback=t=>{o.close(),m=t,localStorage.setItem("spotify_token",m||""),b()};var y=new URL(window.location.href.replace("#","?"));function v(t,e){var n={Authorization:"Bearer "+m};return e?fetch(t,{headers:n,method:"POST",body:JSON.stringify(e)}):fetch(t,{headers:n})}async function b(){var t=await v("https://api.spotify.com/v1/me");t.ok?n(0,c=await t.json()):(m=void 0,n(0,c=void 0),localStorage.removeItem("spotify_token"))}let w;async function _(t){if(!t)return[];var e,n=[];do{var l=await v(e||"https://api.spotify.com/v1/me/playlists?limit=50").then(t=>t.json());n=n.concat(l.items),e=l.next}while(e);return n}y.searchParams.get("state")==Ct&&window.opener.spotifyCallback(y.searchParams.get("access_token")),m&&b(),window.handleCredentialResponse=t=>{n(1,i=!0),w.callback=async t=>{if(void 0!==t.error)throw t;var e;n(2,s=[]);do{var l=await gapi.client.youtube.playlists.list({part:["id,snippet,contentDetails"],maxResults:50,mine:!0,pageToken:e});n(2,s=s.concat(l.result.items)),e=l.result.nextPageToken||null}while(e)},null===gapi.client.getToken()?w.requestAccessToken({prompt:"consent"}):w.requestAccessToken({prompt:""})};class x{constructor(t){this.source=t,this.query=this.source.snippet.title,this.candidates=[],this.target=null,this.selected=!1}}async function $(t){var e=await v(`https://api.spotify.com/v1/search?q=${t}&type=artist,track`);return(e=await e.json()).tracks.items}function S(t){return!(!t||!p.length)&&p.find(e=>e.track.id==t.id)}let C,q,T,j;return t.$$.update=()=>{1&t.$$.dirty[0]&&n(9,C=c&&c.id),512&t.$$.dirty[0]&&n(12,q=_(C)),538&t.$$.dirty[0]&&n(10,T=r&&a&&C&&i),32&t.$$.dirty[0]&&n(11,j=f.filter(t=>t.selected).filter(t=>!S(t.target)).length)},[c,i,s,r,a,f,g,u,h,C,T,j,q,function(){var t=`https://accounts.spotify.com/authorize?client_id=99c906c15b8a496ab16e017948f9d3d6&redirect_uri=${l}&scope=user-read-private user-read-email playlist-read-private playlist-modify-private&response_type=token&state=yt2sp`;c&&(t+="&show_dialog=true"),o=window.open(t,"Login with Spotify","width=800,height=600")},function(){w=google.accounts.oauth2.initTokenClient({client_id:"985321036628-tlp6avu4gnudpr6dpms504lstmoj9uqm.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/youtube.readonly",callback:""})},_,$,S,async function(){await async function(){var t;d=[];do{var e=await gapi.client.youtube.playlistItems.list({part:["snippet,contentDetails"],maxResults:50,playlistId:r.id,pageToken:t});d=d.concat(e.result.items),t=e.result.nextPageToken||null}while(t)}(),await async function(){var t;p=[];do{var e=await v(t||a.tracks.href+"?limit=50").then(t=>t.json());p=p.concat(e.items),t=e.next}while(t)}(),n(5,f=[]),d.forEach(t=>{n(5,f=[...f,new x(t)])}),f.forEach(async(t,e)=>{t.candidates=await $(t.query),t.candidates.length||(t.query=t.query.replace(/ *[\[\(\{][^)]*[\)\]\}] */g,"").replace(/ *(HD|HQ|720p|1080p|4k) */g,"").replace(/ *(of+icial *)?(music *)?video/g,""),t.candidates=await $(t.query)),t.candidates.length||(t.query=t.query.replace(/lyrics?/gi,"").replace(/(feat|ft|featuring)\..*$/gi,"").replace(/with.*$/gi,""),t.candidates=await $(t.query)),t.candidates.length||(t.query=t.query.split("-")[1]||t.query.split("-")[0],t.candidates=await $(t.query)),t.target=t.candidates[0],t.selected=t.target&&!S(t.target),n(5,f[e]=t,f)})},function(){n(6,g=f.filter(t=>t.selected)),g.length&&n(7,u=v(a.tracks.href,{uris:g.map(t=>t.target.uri)}))},function(){r=k(this),n(3,r),n(2,s)},function(){a=k(this),n(4,a),n(12,q),n(9,C),n(0,c)},()=>n(5,f=[]),function(){h=this.checked,n(8,h)},()=>{n(5,f=f.map(t=>(t.selected=!h&&!S(t.target),t)))},function(t,e){t[e].query=this.value,n(5,f)},async(t,e,l)=>{n(5,e[l].candidates=await $(t.query),f),n(5,e[l].target=t.candidates[0],f),n(5,e[l].selected=t.target&&!S(t.target),f)},function(t,e){t[e].target=k(this),n(5,f)},(t,e,l)=>{n(5,e[l].selected=!S(t.target),f)},function(t,e){t[e].selected=this.checked,n(5,f)},()=>{n(5,f=[]),n(6,g=[]),n(12,q=_(C))}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),R(this,t,Et,St,c,{},[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
