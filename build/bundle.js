var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let r,i;function a(t,e){return r||(r=document.createElement("a")),r.href=e,t===r.href}function s(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function g(){return h(" ")}function m(){return h("")}function y(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function w(t,e,n,l){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function _(t,e,n){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function x(t){const e=t.querySelector(":checked");return e&&e.__value}function $(t){i=t}function C(){if(!i)throw new Error("Function called outside component initialization");return i}const S=[],q=[];let T=[];const j=[],E=Promise.resolve();let N=!1;function I(t){T.push(t)}const P=new Set;let A=0;function D(){if(0!==A)return;const t=i;do{try{for(;A<S.length;){const t=S[A];A++,$(t),L(t.$$)}}catch(t){throw S.length=0,A=0,t}for($(null),S.length=0,A=0;q.length;)q.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];P.has(e)||(P.add(e),e())}T.length=0}while(S.length);for(;j.length;)j.pop()();N=!1,P.clear(),$(t)}function L(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const O=new Set;let Y;function z(t,e){t&&t.i&&(O.delete(t),t.i(e))}function R(t,e){const n=e.token={};function o(t,o,c,r){if(e.token!==n)return;e.resolved=r;let i=e.ctx;void 0!==c&&(i=i.slice(),i[c]=r);const a=t&&(e.current=t)(i);let s=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(Y={r:0,c:[],p:Y},function(t,e,n,l){if(t&&t.o){if(O.has(t))return;O.add(t),Y.c.push((()=>{O.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}else l&&l()}(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),Y.r||l(Y.c),Y=Y.p)})):e.block.d(1),a.c(),z(a,1),a.m(e.mount(),e.anchor),s=!0),e.block=a,e.blocks&&(e.blocks[o]=a),s&&D()}if(!(c=t)||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof c.then){if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}else{const n=C();if(t.then((t=>{$(n),o(e.then,1,e.value,t),$(null)}),(t=>{if($(n),o(e.catch,2,e.error,t),$(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}var c}function H(t,e,n){const l=e.slice(),{resolved:o}=t;t.current===t.then&&(l[t.value]=o),t.current===t.catch&&(l[t.error]=o),t.block.p(l,n)}function M(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];T.forEach((l=>-1===t.indexOf(l)?e.push(l):n.push(l))),n.forEach((t=>t())),T=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(S.push(t),N||(N=!0,E.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(c,r,a,s,u,p,f,h=[-1]){const g=i;$(c);const m=c.$$={fragment:null,ctx:[],props:p,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(g?g.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:r.target||g.$$.root};f&&f(m.root);let y=!1;if(m.ctx=a?a(c,r.props||{},((t,e,...n)=>{const l=n.length?n[0]:e;return m.ctx&&u(m.ctx[t],m.ctx[t]=l)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](l),y&&B(c,t)),e})):[],m.update(),y=!0,l(m.before_update),m.fragment=!!s&&s(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();r.intro&&z(c.$$.fragment),function(t,n,c,r){const{fragment:i,after_update:a}=t.$$;i&&i.m(n,c),r||I((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):l(n),t.$$.on_mount=[]})),a.forEach(I)}(c,r.target,r.anchor,r.customElement),D()}$(g)}class F{$destroy(){M(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const t=l.indexOf(n);-1!==t&&l.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(t,e,n){const l=t.slice();return l[52]=e[n],l}function K(t,e,n){const l=t.slice();return l[49]=e[n],l[50]=e,l[51]=n,l}function Q(t,e,n){const l=t.slice();return l[54]=e[n],l}function U(t,e,n){const l=t.slice();return l[44]=e[n],l}function V(t,e,n){const l=t.slice();return l[44]=e[n],l}function W(t){let e,n,l,o,c,r,i,a,s=t[7].length+"",y=t[7],v=[];for(let e=0;e<y.length;e+=1)v[e]=tt(J(t,y,e));let k={ctx:t,current:null,token:null,hasCatch:!1,pending:lt,then:nt,catch:et,value:52};return R(a=t[8],k),{c(){e=f("h2"),e.textContent="Completing sync",n=h("\n    Syncing "),l=h(s),o=h(" items:\n    "),c=f("ol");for(let t=0;t<v.length;t+=1)v[t].c();r=g(),i=m(),k.block.c()},m(t,a){u(t,e,a),u(t,n,a),u(t,l,a),u(t,o,a),u(t,c,a);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(c,null);u(t,r,a),u(t,i,a),k.block.m(t,k.anchor=a),k.mount=()=>i.parentNode,k.anchor=i},p(e,n){if(t=e,128&n[0]&&s!==(s=t[7].length+"")&&b(l,s),128&n[0]){let e;for(y=t[7],e=0;e<y.length;e+=1){const l=J(t,y,e);v[e]?v[e].p(l,n):(v[e]=tt(l),v[e].c(),v[e].m(c,null))}for(;e<v.length;e+=1)v[e].d(1);v.length=y.length}k.ctx=t,256&n[0]&&a!==(a=t[8])&&R(a,k)||H(k,t,n)},d(t){t&&d(e),t&&d(n),t&&d(l),t&&d(o),t&&d(c),p(v,t),t&&d(r),t&&d(i),k.block.d(t),k.token=null,k=null}}}function X(t){let e,n,o,c,r,i,a,m,k,_,x,$,C,S,q,T,j,E,N,I,P,A,D,L,O,Y,z,R=t[4],H=[];for(let e=0;e<R.length;e+=1)H[e]=ht(K(t,R,e));return{c(){e=f("h2"),e.textContent="Review sync actions",n=g(),o=f("button"),c=h("Sync "),r=h(t[10]),i=h(" items"),m=h("\n    Â \n    "),k=f("button"),k.textContent="Cancel sync",_=g(),x=f("table"),$=f("tr"),C=f("th"),C.textContent="Source video",S=g(),q=f("th"),q.textContent="Search term",T=g(),j=f("th"),E=g(),N=f("th"),N.textContent="Potential targets",I=g(),P=f("th"),P.textContent="Selected target",A=g(),D=f("th"),L=f("input"),O=g();for(let t=0;t<H.length;t+=1)H[t].c();o.disabled=a=0===t[10],v(C,"width","33%"),v(C,"class","svelte-16gudsg"),v(q,"width","33%"),v(q,"class","svelte-16gudsg"),v(j,"width","40px"),v(j,"class","svelte-16gudsg"),v(N,"width","305px"),v(N,"class","svelte-16gudsg"),v(P,"width","33%"),v(P,"class","svelte-16gudsg"),v(L,"type","checkbox"),v(L,"title","Select all"),v(L,"class","svelte-16gudsg"),v(D,"width","30px"),v(D,"class","svelte-16gudsg"),v($,"class","svelte-16gudsg"),v(x,"class","sync svelte-16gudsg"),w(x,"width","100%"),w(x,"table-layout","fixed")},m(l,a){u(l,e,a),u(l,n,a),u(l,o,a),s(o,c),s(o,r),s(o,i),u(l,m,a),u(l,k,a),u(l,_,a),u(l,x,a),s(x,$),s($,C),s($,S),s($,q),s($,T),s($,j),s($,E),s($,N),s($,I),s($,P),s($,A),s($,D),s(D,L),L.checked=t[9],s(x,O);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(x,null);Y||(z=[y(o,"click",t[19]),y(k,"click",t[22]),y(L,"change",t[23]),y(L,"click",t[24])],Y=!0)},p(t,e){if(1024&e[0]&&b(r,t[10]),1024&e[0]&&a!==(a=0===t[10])&&(o.disabled=a),512&e[0]&&(L.checked=t[9]),196624&e[0]){let n;for(R=t[4],n=0;n<R.length;n+=1){const l=K(t,R,n);H[n]?H[n].p(l,e):(H[n]=ht(l),H[n].c(),H[n].m(x,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=R.length}},d(t){t&&d(e),t&&d(n),t&&d(o),t&&d(m),t&&d(k),t&&d(_),t&&d(x),p(H,t),Y=!1,l(z)}}}function Z(t){let e,n,o,c,r,i,a,p,m,b,k,w,_,x,$,C,S,q,T,j,E,N,I,P,A,D,L,O,Y,z,M,B,G,F,J,K,Q,U,V,W,X,Z,tt;function et(t,e){return t[1]?mt:gt}let nt=et(t),lt=nt(t),ot=t[0]&&yt(t);function ct(t,e){return t[0]?bt:vt}let rt=ct(t),it=rt(t),at=t[6]&&kt(t),st={ctx:t,current:null,token:null,hasCatch:!1,pending:jt,then:Ct,catch:$t,value:12};return R(J=t[12],st),{c(){e=f("h1"),e.textContent="YouTube To Spotify",n=g(),o=f("p"),o.innerHTML='<a href="https://github.com/yt2sp/yt2sp">Github page</a>',c=g(),r=f("p"),r.textContent="This tool synchronizes your YouTube playlists to Spotify playlists,\n      intelligently searching for artist & title based on the YouTube video's\n      name, skipping duplicates and offering the possibility for manual\n      overrides.",i=g(),a=f("p"),a.textContent="This can be useful if you use YouTube for music discovery, add the music\n      videos you like to a playlist and want to ensure that your discovered\n      items are added to Spotify as well which you use for regular music\n      listening.",p=g(),m=f("p"),m.textContent="In order to work, it requires access to your YouTube and Spotify accounts,\n      but it runs entirely in your browser and communicates only with YouTube\n      and Spotify servers and does not store any data at all.",b=g(),k=f("h2"),k.textContent="Step 1: Connect accounts:",w=g(),_=f("b"),_.textContent="Google:",x=g(),$=f("p"),lt.c(),C=g(),S=f("p"),q=f("b"),q.textContent="Spotify:",T=g(),ot&&ot.c(),j=g(),E=f("button"),it.c(),N=g(),I=f("h2"),I.textContent="Step 2: Select source and target playlists:",P=g(),A=f("table"),D=f("tr"),L=f("td"),L.innerHTML="<b>Source YouTube playlist:</b>",O=g(),Y=f("td"),at&&at.c(),z=g(),M=f("tr"),B=f("td"),B.innerHTML="<b>Target Spotify playlist:</b>",G=g(),F=f("td"),st.block.c(),K=g(),Q=f("h2"),Q.textContent="Step 3: Sync!",U=g(),V=f("button"),W=h("Search for items to be synchronized"),v(L,"class","svelte-16gudsg"),v(Y,"class","svelte-16gudsg"),v(D,"class","svelte-16gudsg"),v(B,"class","svelte-16gudsg"),v(F,"class","svelte-16gudsg"),v(M,"class","svelte-16gudsg"),v(A,"class","svelte-16gudsg"),V.disabled=X=!t[11]},m(l,d){u(l,e,d),u(l,n,d),u(l,o,d),u(l,c,d),u(l,r,d),u(l,i,d),u(l,a,d),u(l,p,d),u(l,m,d),u(l,b,d),u(l,k,d),u(l,w,d),u(l,_,d),u(l,x,d),u(l,$,d),lt.m($,null),u(l,C,d),u(l,S,d),s(S,q),s(S,T),ot&&ot.m(S,null),s(S,j),s(S,E),it.m(E,null),u(l,N,d),u(l,I,d),u(l,P,d),u(l,A,d),s(A,D),s(D,L),s(D,O),s(D,Y),at&&at.m(Y,null),s(A,z),s(A,M),s(M,B),s(M,G),s(M,F),st.block.m(F,st.anchor=null),st.mount=()=>F,st.anchor=null,u(l,K,d),u(l,Q,d),u(l,U,d),u(l,V,d),s(V,W),Z||(tt=[y(E,"click",t[13]),y(V,"click",t[18])],Z=!0)},p(e,n){nt!==(nt=et(t=e))&&(lt.d(1),lt=nt(t),lt&&(lt.c(),lt.m($,null))),t[0]?ot?ot.p(t,n):(ot=yt(t),ot.c(),ot.m(S,j)):ot&&(ot.d(1),ot=null),rt!==(rt=ct(t))&&(it.d(1),it=rt(t),it&&(it.c(),it.m(E,null))),t[6]?at?at.p(t,n):(at=kt(t),at.c(),at.m(Y,null)):at&&(at.d(1),at=null),st.ctx=t,4096&n[0]&&J!==(J=t[12])&&R(J,st)||H(st,t,n),2048&n[0]&&X!==(X=!t[11])&&(V.disabled=X)},d(t){t&&d(e),t&&d(n),t&&d(o),t&&d(c),t&&d(r),t&&d(i),t&&d(a),t&&d(p),t&&d(m),t&&d(b),t&&d(k),t&&d(w),t&&d(_),t&&d(x),t&&d($),lt.d(),t&&d(C),t&&d(S),ot&&ot.d(),it.d(),t&&d(N),t&&d(I),t&&d(P),t&&d(A),at&&at.d(),st.block.d(),st.token=null,st=null,t&&d(K),t&&d(Q),t&&d(U),t&&d(V),Z=!1,l(tt)}}}function tt(t){let e,n,l,o,c=t[52].source.snippet.title+"",r=At(t[52].target)+"";return{c(){e=f("li"),n=h(c),l=h(" â "),o=h(r)},m(t,c){u(t,e,c),s(e,n),s(e,l),s(e,o)},p(t,e){128&e[0]&&c!==(c=t[52].source.snippet.title+"")&&b(n,c),128&e[0]&&r!==(r=At(t[52].target)+"")&&b(o,r)},d(t){t&&d(e)}}}function et(e){return{c:t,m:t,p:t,d:t}}function nt(e){let n,l,o;return{c(){n=f("button"),n.textContent="OK"},m(t,c){u(t,n,c),l||(o=y(n,"click",e[30]),l=!0)},p:t,d(t){t&&d(n),l=!1,o()}}}function lt(e){let n;return{c(){n=f("button"),n.textContent="...",n.disabled=!0},m(t,e){u(t,n,e)},p:t,d(t){t&&d(n)}}}function ot(e){return{c:t,m:t,p:t,d:t}}function ct(t){let e;function n(t,e){return t[53].length?it:rt}let l=n(t),o=l(t);return{c(){o.c(),e=m()},m(t,n){o.m(t,n),u(t,e,n)},p(t,c){l===(l=n(t))&&o?o.p(t,c):(o.d(1),o=l(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&d(e)}}}function rt(e){let n;return{c(){n=h("-")},m(t,e){u(t,n,e)},p:t,d(t){t&&d(n)}}}function it(t){let e,n,o,c=t[53],r=[];for(let e=0;e<c.length;e+=1)r[e]=at(Q(t,c,e));function i(){t[27].call(e,t[50],t[51])}function a(){return t[28](t[49],t[50],t[51])}return{c(){e=f("select");for(let t=0;t<r.length;t+=1)r[t].c();v(e,"class","svelte-16gudsg"),void 0===t[49].target&&I(i)},m(l,c){u(l,e,c);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null);_(e,t[49].target,!0),n||(o=[y(e,"change",i),y(e,"change",a)],n=!0)},p(n,l){if(t=n,16&l[0]){let n;for(c=t[53],n=0;n<c.length;n+=1){const o=Q(t,c,n);r[n]?r[n].p(o,l):(r[n]=at(o),r[n].c(),r[n].m(e,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=c.length}16&l[0]&&_(e,t[49].target)},d(t){t&&d(e),p(r,t),n=!1,l(o)}}}function at(t){let e,n,l,o,c=At(t[54])+"";return{c(){e=f("option"),n=h(c),l=g(),e.__value=o=t[54],e.value=e.__value},m(t,o){u(t,e,o),s(e,n),s(e,l)},p(t,l){16&l[0]&&c!==(c=At(t[54])+"")&&b(n,c),16&l[0]&&o!==(o=t[54])&&(e.__value=o,e.value=e.__value)},d(t){t&&d(e)}}}function st(e){let n;return{c(){n=h("...")},m(t,e){u(t,n,e)},p:t,d(t){t&&d(n)}}}function ut(e){return{c:t,m:t,p:t,d:t}}function dt(t){let e,n=t[52]&&pt(t);return{c(){n&&n.c(),e=m()},m(t,l){n&&n.m(t,l),u(t,e,l)},p(t,l){t[52]?n?n.p(t,l):(n=pt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&d(e)}}}function pt(t){let e,n,l,o,c=At(t[52])+"";return{c(){e=f("a"),n=h(c),v(e,"href",l=t[52].external_urls.spotify),v(e,"title",o=At(t[52]))},m(t,l){u(t,e,l),s(e,n)},p(t,r){16&r[0]&&c!==(c=At(t[52])+"")&&b(n,c),16&r[0]&&l!==(l=t[52].external_urls.spotify)&&v(e,"href",l),16&r[0]&&o!==(o=At(t[52]))&&v(e,"title",o)},d(t){t&&d(e)}}}function ft(e){let n;return{c(){n=h("...")},m(t,e){u(t,n,e)},p:t,d(t){t&&d(n)}}}function ht(t){let e,n,o,c,r,i,a,p,m,_,x,$,C,S,q,T,j,E,N,I,P,A,D,L,O,Y=t[49].source.snippet.title+"";function z(){t[25].call(m,t[50],t[51])}function M(){return t[26](t[49],t[50],t[51])}let B={ctx:t,current:null,token:null,hasCatch:!1,pending:st,then:ct,catch:ot,value:53};R(q=t[49].candidates,B);let G={ctx:t,current:null,token:null,hasCatch:!1,pending:ft,then:dt,catch:ut,value:52};function F(){t[29].call(P,t[50],t[51])}return R(E=t[49].target,G),{c(){e=f("tr"),n=f("td"),o=f("a"),c=h(Y),a=g(),p=f("td"),m=f("input"),_=g(),x=f("td"),$=f("button"),$.textContent="ð",C=g(),S=f("td"),B.block.c(),T=g(),j=f("td"),G.block.c(),N=g(),I=f("td"),P=f("input"),D=g(),v(o,"href",r="https://www.youtube.com/watch?v="+t[49].source.contentDetails.videoId),v(o,"title",i=t[49].source.snippet.title),v(n,"class","svelte-16gudsg"),v(m,"type","text"),w(m,"width","100%"),v(m,"class","svelte-16gudsg"),v(p,"class","svelte-16gudsg"),v(x,"class","svelte-16gudsg"),v(S,"class","svelte-16gudsg"),v(j,"class","svelte-16gudsg"),v(P,"type","checkbox"),P.disabled=A=t[17](t[49].target),v(P,"class","svelte-16gudsg"),w(I,"text-align","center"),v(I,"class","svelte-16gudsg"),v(e,"class","svelte-16gudsg")},m(l,r){u(l,e,r),s(e,n),s(n,o),s(o,c),s(e,a),s(e,p),s(p,m),k(m,t[49].query),s(e,_),s(e,x),s(x,$),s(e,C),s(e,S),B.block.m(S,B.anchor=null),B.mount=()=>S,B.anchor=null,s(e,T),s(e,j),G.block.m(j,G.anchor=null),G.mount=()=>j,G.anchor=null,s(e,N),s(e,I),s(I,P),P.checked=t[49].selected,s(e,D),L||(O=[y(m,"input",z),y($,"click",M),y(P,"change",F)],L=!0)},p(e,n){t=e,16&n[0]&&Y!==(Y=t[49].source.snippet.title+"")&&b(c,Y),16&n[0]&&r!==(r="https://www.youtube.com/watch?v="+t[49].source.contentDetails.videoId)&&v(o,"href",r),16&n[0]&&i!==(i=t[49].source.snippet.title)&&v(o,"title",i),16&n[0]&&m.value!==t[49].query&&k(m,t[49].query),B.ctx=t,16&n[0]&&q!==(q=t[49].candidates)&&R(q,B)||H(B,t,n),G.ctx=t,16&n[0]&&E!==(E=t[49].target)&&R(E,G)||H(G,t,n),16&n[0]&&A!==(A=t[17](t[49].target))&&(P.disabled=A),16&n[0]&&(P.checked=t[49].selected)},d(t){t&&d(e),B.block.d(),B.token=null,B=null,G.block.d(),G.token=null,G=null,L=!1,l(O)}}}function gt(t){let e,n,l;return{c(){e=f("div"),n=g(),l=f("div"),v(e,"id","g_id_onload"),v(e,"data-client_id","985321036628-tlp6avu4gnudpr6dpms504lstmoj9uqm.apps.googleusercontent.com"),v(e,"data-context","signin"),v(e,"data-ux_mode","popup"),v(e,"data-callback","handleCredentialResponse"),v(e,"data-auto_prompt","false"),v(l,"class","g_id_signin"),v(l,"data-type","standard"),v(l,"data-shape","rectangular"),v(l,"data-theme","outline"),v(l,"data-text","signin_with"),v(l,"data-size","large"),v(l,"data-logo_alignment","left")},m(t,o){u(t,e,o),u(t,n,o),u(t,l,o)},d(t){t&&d(e),t&&d(n),t&&d(l)}}}function mt(t){let e;return{c(){e=h("Signed in - reload to sign in again")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function yt(t){let e,n,l=t[0].display_name+"";return{c(){e=h("Signed in as "),n=h(l)},m(t,l){u(t,e,l),u(t,n,l)},p(t,e){1&e[0]&&l!==(l=t[0].display_name+"")&&b(n,l)},d(t){t&&d(e),t&&d(n)}}}function vt(t){let e;return{c(){e=h("Sign in")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function bt(t){let e;return{c(){e=h("Sign out")},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function kt(t){let e;function n(t,e){return t[6].length?_t:wt}let l=n(t),o=l(t);return{c(){o.c(),e=m()},m(t,n){o.m(t,n),u(t,e,n)},p(t,c){l===(l=n(t))&&o?o.p(t,c):(o.d(1),o=l(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&d(e)}}}function wt(e){let n;return{c(){n=h("...")},m(t,e){u(t,n,e)},p:t,d(t){t&&d(n)}}}function _t(t){let e,n,l,o=t[6],c=[];for(let e=0;e<o.length;e+=1)c[e]=xt(V(t,o,e));return{c(){e=f("select");for(let t=0;t<c.length;t+=1)c[t].c();v(e,"class","svelte-16gudsg"),void 0===t[2]&&I((()=>t[20].call(e)))},m(o,r){u(o,e,r);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);_(e,t[2],!0),n||(l=y(e,"change",t[20]),n=!0)},p(t,n){if(64&n[0]){let l;for(o=t[6],l=0;l<o.length;l+=1){const r=V(t,o,l);c[l]?c[l].p(r,n):(c[l]=xt(r),c[l].c(),c[l].m(e,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=o.length}68&n[0]&&_(e,t[2])},d(t){t&&d(e),p(c,t),n=!1,l()}}}function xt(t){let e,n,l,o,c,r,i=t[44].snippet.title+"",a=t[44].contentDetails.itemCount+"";return{c(){e=f("option"),n=h(i),l=h(" ("),o=h(a),c=h("\n                    items)\n                  "),e.__value=r=t[44],e.value=e.__value},m(t,r){u(t,e,r),s(e,n),s(e,l),s(e,o),s(e,c)},p(t,l){64&l[0]&&i!==(i=t[44].snippet.title+"")&&b(n,i),64&l[0]&&a!==(a=t[44].contentDetails.itemCount+"")&&b(o,a),64&l[0]&&r!==(r=t[44])&&(e.__value=r,e.value=e.__value)},d(t){t&&d(e)}}}function $t(e){return{c:t,m:t,p:t,d:t}}function Ct(t){let e;function n(t,e){return t[12].length?qt:St}let l=n(t),o=l(t);return{c(){o.c(),e=m()},m(t,n){o.m(t,n),u(t,e,n)},p(t,c){l===(l=n(t))&&o?o.p(t,c):(o.d(1),o=l(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&d(e)}}}function St(e){let n;return{c(){n=h("...")},m(t,e){u(t,n,e)},p:t,d(t){t&&d(n)}}}function qt(t){let e,n,l,o=t[12],c=[];for(let e=0;e<o.length;e+=1)c[e]=Tt(U(t,o,e));return{c(){e=f("select");for(let t=0;t<c.length;t+=1)c[t].c();v(e,"class","svelte-16gudsg"),void 0===t[3]&&I((()=>t[21].call(e)))},m(o,r){u(o,e,r);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);_(e,t[3],!0),n||(l=y(e,"change",t[21]),n=!0)},p(t,n){if(4096&n[0]){let l;for(o=t[12],l=0;l<o.length;l+=1){const r=U(t,o,l);c[l]?c[l].p(r,n):(c[l]=Tt(r),c[l].c(),c[l].m(e,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=o.length}4104&n[0]&&_(e,t[3])},d(t){t&&d(e),p(c,t),n=!1,l()}}}function Tt(t){let e,n,l,o,c,r,i=t[44].name+"",a=t[44].tracks.total+"";return{c(){e=f("option"),n=h(i),l=h(" ("),o=h(a),c=h(" items)\n                  "),e.__value=r=t[44],e.value=e.__value},m(t,r){u(t,e,r),s(e,n),s(e,l),s(e,o),s(e,c)},p(t,l){4096&l[0]&&i!==(i=t[44].name+"")&&b(n,i),4096&l[0]&&a!==(a=t[44].tracks.total+"")&&b(o,a),4096&l[0]&&r!==(r=t[44])&&(e.__value=r,e.value=e.__value)},d(t){t&&d(e)}}}function jt(e){let n;return{c(){n=h("...")},m(t,e){u(t,n,e)},p:t,d(t){t&&d(n)}}}function Et(e){let n,o,c,r,i,p,h,m;function b(t,e){return t[4].length?t[7].length?W:X:Z}let k=b(e),w=k(e);return{c(){n=f("script"),c=f("script"),i=g(),p=f("main"),w.c(),n.async=!0,n.defer=!0,a(n.src,o="https://apis.google.com/js/api.js")||v(n,"src","https://apis.google.com/js/api.js"),c.async=!0,c.defer=!0,a(c.src,r="https://accounts.google.com/gsi/client")||v(c,"src","https://accounts.google.com/gsi/client")},m(t,l){s(document.head,n),s(document.head,c),u(t,i,l),u(t,p,l),w.m(p,null),h||(m=[y(n,"load",Pt),y(c,"load",e[14])],h=!0)},p(t,e){k===(k=b(t))&&w?w.p(t,e):(w.d(1),w=k(t),w&&(w.c(),w.m(p,null)))},i:t,o:t,d(t){d(n),d(c),t&&d(i),t&&d(p),w.d(),h=!1,l(m)}}}const Nt="yt2sp";function It(){gapi.client.init({}).then((function(){gapi.client.load("https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest")}))}function Pt(){gapi.load("client",It)}function At(t){return t?t.artists.map((t=>t.name)).join(", ")+"-"+t.name+" ("+t.album.name+", "+t.album.release_date+")":"..."}function Dt(t,e,n){let l,o,c,r;const i=window.location.href.slice(0,-1);var a,s,u,d,p,f,h,g=[],m=[],y=[],v=[],b=!1,k=localStorage.getItem("spotify_token");window.spotifyCallback=t=>{a.close(),k=t,localStorage.setItem("spotify_token",k||""),$()};var w=new URL(window.location.href.replace("#","?"));function _(t,e){var n={Authorization:`Bearer ${k}`};return e?fetch(t,{headers:n,method:"POST",body:JSON.stringify(e)}):fetch(t,{headers:n})}async function $(){var t=await _("https://api.spotify.com/v1/me");t.ok?n(0,s=await t.json()):(k=void 0,n(0,s=void 0),localStorage.removeItem("spotify_token"))}let C;async function S(t){if(!t)return[];var e,n=[];do{var l=await _(e||"https://api.spotify.com/v1/me/playlists?limit=50").then((t=>t.json()));n=n.concat(l.items),e=l.next}while(e);return n}w.searchParams.get("state")==Nt&&window.opener.spotifyCallback(w.searchParams.get("access_token")),k&&$(),window.handleCredentialResponse=t=>{n(1,u=!0),C.callback=async t=>{if(void 0!==t.error)throw t;var e;n(6,d=[]);do{var l=await gapi.client.youtube.playlists.list({part:["id,snippet,contentDetails"],maxResults:50,mine:!0,pageToken:e});n(6,d=d.concat(l.result.items)),e=l.result.nextPageToken||null}while(e)},null===gapi.client.getToken()?C.requestAccessToken({prompt:"consent"}):C.requestAccessToken({prompt:""})};class q{constructor(t){this.source=t,this.query=this.source.snippet.title,this.candidates=[],this.target=null,this.selected=!1}}async function T(t){var e=await _(`https://api.spotify.com/v1/search?q=${t}&type=artist,track`);return(e=await e.json()).tracks.items}function j(t){return!(!t||!m.length)&&m.find((e=>e.track.id==t.id))}return t.$$.update=()=>{1&t.$$.dirty[0]&&n(5,l=s&&s.id),32&t.$$.dirty[0]&&n(12,o=S(l)),46&t.$$.dirty[0]&&n(11,c=p&&f&&l&&u),16&t.$$.dirty[0]&&n(10,r=y.filter((t=>t.selected)).filter((t=>!j(t.target))).length)},[s,u,p,f,y,l,d,v,h,b,r,c,o,function(){var t=`https://accounts.spotify.com/authorize?client_id=99c906c15b8a496ab16e017948f9d3d6&redirect_uri=${i}&scope=user-read-private user-read-email playlist-read-private playlist-modify-private&response_type=token&state=${Nt}`;s&&(t+="&show_dialog=true"),a=window.open(t,"Login with Spotify","width=800,height=600")},function(){C=google.accounts.oauth2.initTokenClient({client_id:"985321036628-tlp6avu4gnudpr6dpms504lstmoj9uqm.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/youtube.readonly",callback:""})},S,T,j,async function(){await async function(){var t;g=[];do{var e=await gapi.client.youtube.playlistItems.list({part:["snippet,contentDetails"],maxResults:50,playlistId:p.id,pageToken:t});g=g.concat(e.result.items),t=e.result.nextPageToken||null}while(t)}(),await async function(){var t;m=[];do{var e=await _(t||f.tracks.href+"?limit=50").then((t=>t.json()));m=m.concat(e.items),t=e.next}while(t)}(),n(4,y=[]),g.forEach((t=>{n(4,y=[...y,new q(t)])})),y.forEach((async(t,e)=>{t.candidates=await T(t.query),t.candidates.length||(t.query=t.query.replace(/ *[\[\(\{][^)]*[\)\]\}] */g,"").replace(/ *(HD|HQ|720p|1080p|4k) */g,"").replace(/ *(of+icial *)?(music *)?video/g,""),t.candidates=await T(t.query)),t.candidates.length||(t.query=t.query.replace(/lyrics?/gi,"").replace(/(feat|ft|featuring)\..*$/gi,"").replace(/with.*$/gi,""),t.candidates=await T(t.query)),t.candidates.length||(t.query=t.query.split("-")[1]||t.query.split("-")[0],t.candidates=await T(t.query)),t.target=t.candidates[0],t.selected=t.target&&!j(t.target),n(4,y[e]=t,y)}))},function(){n(7,v=y.filter((t=>t.selected))),v.length&&n(8,h=_(f.tracks.href,{uris:v.map((t=>t.target.uri))}))},function(){p=x(this),n(2,p),n(6,d)},function(){f=x(this),n(3,f),n(12,o),n(5,l),n(0,s)},()=>n(4,y=[]),function(){b=this.checked,n(9,b)},()=>{n(4,y=y.map((t=>(t.selected=!b&&!j(t.target),t))))},function(t,e){t[e].query=this.value,n(4,y)},async(t,e,l)=>{n(4,e[l].candidates=await T(t.query),y),n(4,e[l].target=t.candidates[0],y),n(4,e[l].selected=t.target&&!j(t.target),y)},function(t,e){t[e].target=x(this),n(4,y)},(t,e,l)=>{n(4,e[l].selected=!j(t.target),y)},function(t,e){t[e].selected=this.checked,n(4,y)},()=>{n(4,y=[]),n(7,v=[]),n(12,o=S(l))}]}return new class extends F{constructor(t){super(),G(this,t,Dt,Et,c,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
